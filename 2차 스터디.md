# INNOSIGHT 9월 활동 보고서
**가치 유니버스**    
> 구성원: 이건주, 조선우, 박장식, 권기정      
> 장소 및 일시: 9/5 AIA타워 지하1층, 9/25 충정로 리바운드점, 9/26 AIA타워 지하1층

## 대규모 트래픽 처리를 위한 인프라 스터디 with EFK

#### 1. 스터디 배경

최근 운영중인 시스템이 온프레미스 환경에서 클라우드로 전환되면서, 기존의 로그 수집/분석 체계가 한층 더 자동화되고 분산 처리 성능을 갖춘 EFK(Elasticsearch, Fluentd, Kibana) 기반으로 재구축됨.  
더불어, 성능 모니터링 및 장애 대응 강화를 위해 Whatap APM(Application Performance Monitoring)도 함께 도입되어, 대규모 트래픽 환경에서도 실시간 모니터링 체계를 구축.

#### 2. EFK Stack 개요

- **Elasticsearch**: 방대한 로그 데이터의 실시간 검색 및 분석을 위한 분산 검색 엔진.
- **Fluentd**: 다양한 소스(log file, application 등)에서 로그를 수집 및 변환 후, Elasticsearch로 전달하는 로그 수집/전송 Agent.
- **Kibana**: Elasticsearch에 수집된 로그를 시각화하고 대시보드, 검색, 알림 등 다양한 인터페이스 제공.

#### 3. Why EFK over ELK?

- 기존 ELK의 Logstash 대신 Fluentd를 도입하여 경량화 및 클라우드/컨테이너 환경에서의 확장성과 자원 효율성 향상.
- Fluentd는 Kubernetes, Docker 등 클라우드 네이티브 환경과의 연동이 용이하여 마이그레이션에 최적화.

#### 4. Whatap 모니터링 시스템과의 연계

- Whatap은 주요 백엔드 시스템의 성능 지표(APM 데이터), 에러 및 트랜잭션 상태, WAS/DB 등 인프라 상태를 실시간으로 모니터링.
- EFK와 Whatap의 로그/메트릭 연계로 장애 발생 시 로그와 APM 데이터를 함께 조회, 근본 원인 분석(RCA) 및 장애 대응 속도 향상.

#### 5. 로그 수집 및 시각화의 현재 상태

- Fluentd 데몬이 각 클라우드 노드에서 운영 로그를 수집(예: Java Microservices, Nginx, Kubernetes 컨테이너 로그 등)하여 ElasticSearch로 전송.
- Kibana에서 대시보드 및 탐색 기능을 통해 다양한 조건의 로그 조회, 필터링, 시각화가 가능.
- Whatap 시스템 모니터링 대시보드와 함께 로그 기반의 대시보드(예: 에러 트렌드, 부하 분포, 특정 이벤트 추적 등) 구성.

#### 6. 효과적인 로그 시각화를 위한 개발 방향

- 수집 대상 로그 포맷(구조화 로그: JSON 등) 표준화 및 필요 정보(트랜잭션ID, 에러코드, 사용자ID 등) 추가 개발.
- Kibana에서 운영/개발 담당자가 주요 지표(에러율, 특정 이벤트 빈도, 신규 배포 로그 등)를 신속하게 확인할 수 있는 맞춤 대시보드 구축.
- Whatap에서 제공하는 알림/이상 탐지 기능과 EFK의 로그 시각화 기능을 연계하여 비정상 트래픽·에러 상황 발생 시 실시간 탐지 및 Quick RCA 체계 마련.

***

#### 향후 과제

- 로그 시각화 자동화 스크립트 개발 (Kibana Dashboard-as-Code)
- Whatap과 EFK 데이터 연계 심화 및 장애 분석 자동화 방안 스터디

***
